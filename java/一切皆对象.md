## 一切皆对象

### 1. 两种声明的区别

* 第一种

  ~~~java
  String str1 = "abc";
  // true
  System.out.println(str1 == "abc");     
  ~~~

  1 : 在 **栈中** 开辟一个空间, 存放str1引用

  2 : 在 **String 常量池** 中开辟一块空间存放 "abc" 对象

  3 : 引用str1 指向 常量池中的 "abc" 对象

  4 : str 此时就是指代常量池中"abc"的地址



* 第二种

  ~~~java
  String str1 = new String("abc");
  // false 
  System.out.println(str1 == "abc");   
  ~~~

  1. 在 **栈** 中开辟一个空间存放 str1 
  2. 在 **堆** 中开辟一块空间存放一个新建的String 对象
  3. 引用 str1 指向 堆 在中新创建的对象
  4. 所以此时的str1是指向的 **堆中** 的新对象的地址, 而不是 常量池中的 "abc"



  Tips : 

  * 对于new 方法创建的对象, java会先去查看常量池中有没有 "abc" 对象, **如果有** : 则 直接在堆区中生成一个该对象的拷贝对象 (**但是还是还在堆中**) , 如果没有则现在 常量池中生成 "abc"对象 , 然后再拷贝到堆中

    所以 **通过new 方法, 生成的过程中, 可能创建了一个(常量池中有) 或者 两个对象(常量池中没有)**





### 2. 关于存储区域

* 堆栈(RAM) 中存放java中的 **引用, 等数据**  , 由于栈指针的存在, 所以放入其中的元素必须要知道其长度和存放时间, 这样才能保证指针的准确移动.  实例化的对象不保存在其中
* 堆(RAM) 中不考虑放入元素的长度, 时间等, 所以更为灵活. **所以用来保存java的对象**
* 静态存储 (RAM) 指位于固定位置的数据, 切在程序开始运行前就需要放入



tips : 

* Java 中的基本数据类型,**当不使用new 的形式声明时 (非句柄形式创建)**, 就直接存放于堆栈区

  ~~~java
  // java 的基本数据类型
  // 后面的值是 不进行初始化时的默认值
  boolean ;// false	
  char ;	 // null
  byte ;	 // 0
  short ;	 // 0
  int ; 	 // 0
  long ;	 // 0L
  float ;  // 0.0f
  double ; // 0.0d
  
  
  // 当以这种方式声明的时候, 会被直接存放在堆栈区 而不是堆区
  int a = 10 ;
  
  ~~~



###3. 关于程序中基本类型的初始值

~~~java
// 如果在类的成员变量中, 没有初始化
class Demo{
    	
    int a;	     // 此时外界调用 a 的默认值就是 0 
    int b = 10;  // 注意这种写法是 可以的!
    
}


// 如果在函数中, 没有初始化直接调用, 则会报错
public void test(){
    int a ;
    System.out.println(a)	// 编译错误
}


~~~



















